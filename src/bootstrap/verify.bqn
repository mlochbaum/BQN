glyphs â† â€¢Import "../glyphs.bqn"
gl â† ("âŸ¨"âˆ¾"âŸ©"Â«âˆ¾","âŠ¸âˆ¾Â¨'"'(âŠ£âˆ¾âˆ¾Ëœ)Â¨glyphs)      # Has to replace â€¢args in c.bqn

f â† âŸ¨"../c.bqn"âŸ©âˆ¾("boot"âˆ¾âˆ¾âŸœ".bqn")Â¨'1'+â†•3   # Files to test
c â† (1â€¿3/âŸ¨glyphsâŠ¸â€¢Import,â€¢ImportâŸ©) {ğ•ğ•©}Â¨ f  # Resulting compilers
c â†© (âˆ¾glyphs){ğ•—âŠ¸ğ•}Â¨ c
t â† (âˆ¾âˆ¾âŸœ(@+10)Â¨)Â¨ (Â¯5âŠ¸â†“âˆ¾glË™)âŒ¾âŠ‘âŒ¾âŠ‘ â€¢FLinesÂ¨ f # Compiler source

# Check that compiler ğ•© compiles ğ•©-1 same as full compiler
Ver â† {
  norm â† {ğ•ğ•}ËœÂ´ ğ•© â†‘ âŸ¨
    4âŠ¸â†‘              # Strip source info, always
    â‹ˆâ¼âˆ˜âˆ¾âŸ=Â¨âŒ¾(2âŠ‘Â¨2âŠ¸âŠ‘) # Turn only-dyadic functions to ambivalent, only â‰¥2
    (âŠ¢-2Ã—34âŠ¸=)âŒ¾âŠ‘     # VARU to VARO, could hit non-opcode numbers, oh well
  âŸ©
  ! â‰¡â—‹NormÂ´ (0â€¿ğ•©âŠc) {ğ•ğ•©}Â¨ (ğ•©-1)âŠt
  â€¢Out âˆ¾âŸ¨"Boot -",'0'+ğ•©," verified!"âŸ©
}
VerÂ¨ 1+â†•3

â€¢Out ""
â€¢Out "Compile times, in milliseconds:"
â€¢Show 1e3Ã·ËœâŒŠ1e6Ã— (âˆ¨â—‹(3âŠ¸>)âˆ§1â‰¥-)â—¶âˆâ€¿{30(ğ•¨âŠ‘c)â€¢_timedğ•©âŠ‘t}âŒœËœ â†•â‰ c
