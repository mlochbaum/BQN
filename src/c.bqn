lfâ†@+10
charSetâ€¿cglâ†(âˆ¾ â‰â—‹< â‰ Â¨)âŸ¨
  "+-Ã—Ã·â‹†âˆšâŒŠâŒˆ|Â¬âˆ§âˆ¨<>â‰ =â‰¤â‰¥â‰¡â‰¢âŠ£âŠ¢â¥Šâˆ¾â‰â†‘â†“â†•Â«Â»âŒ½â‰/â‹â’âŠâŠ‘âŠâŠ’âˆŠâ·âŠ”!" # Function
  "Ë™ËœË˜Â¨âŒœâ¼Â´Ë`"           # 1-modifier
  "âˆ˜â—‹âŠ¸âŸœâŒ¾âŠ˜â—¶â‰âš‡âŸ"          # 2-modifier
  "â‹„,"âˆ¾lf               # Separator
  "â‡â†â†©"                 # Gets
  "(){}âŸ¨âŸ©"              # Bracket
  "â€¿"                   # Ligature
  "Â·"                   # nOthing
  # Use last character in case of UTF-16 (like dzaima/BQN)
  Â¯1âŠË˜10â€¿âˆ˜â¥Š"ğ•Šğ•ğ•ğ”½ğ”¾ğ•¤ğ•©ğ•¨ğ•—ğ•˜" # Input (ğ•£ pending; â„ not allowed)
  '0'+â†•10               # Digit
  "Ï€âˆÂ¯."                # Numeric
  "_"âˆ¾Ëœâ¥Š"aA"+âŒœâ†•naâ†26    # Alphabetic
  (Â¯1â†“"ğ•¨")âˆ¾" "âˆ¾@+9      # Whitespace (or special name prefix in UTF-16)
  "#'""@"               # Preprocessed characters
âŸ©
bFâ€¿b1â€¿b2â€¿bSâ€¿bGâ€¿bBâ€¿bLâ€¿bOâ€¿bIâ€¿bDâ€¿bNâ€¿bAâ€¿bWâ€¿bPâ†â‰Â¨ËœâŸœ(+`Â»)cgl
Mâ†1âŠ¸âŠ‘(0âŠ¸â‰¤âˆ§>)-âŸœâŠ‘   # âˆŠ for an init,length pair ğ•© as above
sepâ†âŠ‘bS
Plâ†âˆ¾âŸœ("s"/Ëœ1<â‰ )   # Pluralize
_tmplâ†{âˆ¾ğ•—{ğ•ğ•©}Â¨<ğ•©} # Template
# Convert characters to numbers, mostly the same as tokens
CharCodeâ†charSet{
  ErrUnknownCharsâ†0!ËœâŸ¨"Unknown character"âŠ¸Pl,": ",âŠ¢âŸ©_tmpl
  Chk â† âŠ¢âŠ£ErrUnknownCharsâˆ˜(â‰ /âŠ£)âŸâ‰¢âŸœ(âŠâŸœğ•—)
  gâ†â‹ğ•— â‹„ âŠ¢ Chk gâŠËœ1-Ëœ1âŒˆ(gâŠğ•—)â‹âŠ¢
}

viâ†âŠ‘bD  # Start of identifier numbering
charRoleâ†âˆ¾â¥ŠÂ¨ËœâŸœ(â‰ â†‘cglË™)âŸ¨1,2,3,Â¯1,Â¯3,Â¯1â€¿0,Â¯2,0,5/âŒ½â†•2âŸ© # For first vi chars
Tâ†âŒˆ`Ã— â‹„ ITâ†â†•âˆ˜â‰ âŠ¸T â‹„ I1Tâ†(1+â†•âˆ˜â‰ )âŠ¸T

# Source to âŸ¨tokens, roles, number of identifiers, literalsâŸ©
# Identifiers then literal tokens are numbered starting at vi
Tokenizeâ†{
  # Resolve comments and strings
  câ†ğ•©='#'â‹„sâ†/0â€¿0âŠ¸Â«âŠ¸âˆ§smâ†ğ•©='''â‹„dâ†/dmâ†ğ•©='"'
  gâ†â‹qâ†âˆ¾âŸ¨  sâ‹„Â¯1â†“dâ‹„/câŸ© â‹„qâ†©gâŠq                # Open indices
  eâ† gâŠâˆ¾âŸ¨2+sâ‹„ 1â†“dâ‹„-âŸœÂ»âˆ˜âŠâŸœ(0âˆ¾+`c)âŠ¸//(ğ•©=lf)âˆ¾1âŸ© # Matching close indices
  Seâ†{(âŠËœğ•¨)Se 1Â¨âŒ¾((ğ•©/ğ•¨)âŠ¸âŠ)ğ•©}âŸ(0=Â¯1âŠ‘âŠ¢)       # Mark reachable openings
  Stâ†(â‰ ğ•©)â†‘Â·/â¼((â‰ â†‘âˆ¾âŸœâ‰ Se 1âˆ¾0Â¨)qâ‹e)âŠ¸/          # All indices â†’ reached mask
  aâ†St qâ‹„bâ†St eâ‹„fâ†Â¬â‰ `abâ†aâˆ¨b                 # Open/close masks; filter
  {âŸ¨âŠ‘/ğ•©,"Unclosed quote"âŸ©!0}âŸ(âˆ¨Â´)(smâˆ¨dm)âˆ§b<f

  # Extract character and string literals
  uâ†fâˆ§ğ•©='@'â‹„ciâ†/uâˆ¨Â»aâˆ§sm
  chrâ†(âŠâŸœğ•©-('@'-@)Ã—âŠâŸœu)ci                   # Characters (indices ci)
  f>â†©qeâ†dmâˆ§Â«aâˆ§â†©dm                           # Quote Escape ""
  strâ†1â†“Â¨ğ•©âŠ”Ëœ1-Ëœ(+`siâ†a>Â»qe)Ã—â‰ `dmâˆ§ab         # Strings (indices /si)

  # Extract words: identifiers and numbers
  ieâ†/fâ‹„isâ†ieâ‰ âŠ¸â†‘/1Â»fâ‹„Fsâ†{is/Ëœâ†©ğ•¨â‹„ğ•¨/ğ•©}        # Token start and end
  is-â†©is(-Ã—âŠâŸœc)ie                           # Comment â†’ ending newline only
  tâ†CharCode ieâŠğ•©
  wâ†Â»âŠ¸<lâ†t M bD(âŠ£â‰-Ëœ)â—‹âŠ‘bWâ‹„usâ†t=Â¯1++Â´bA      # Word chars l, start w
  wkâ†naâŒŠâˆ˜Ã·Ëœ(âŠ‘bA)-Ëœw/t                       # Kind of word from first char
  t-â†©naÃ—lâˆ§tâ‰¥na+âŠ‘bA                          # Case-insensitive
  iâ†l>nâ†lâˆ§(+`w)âŠ0âˆ¾wk<0                      # Identifier/Number masks
  numâ†is ReadNumsâ—‹((âˆ¨âŸœÂ«0âˆ¾n)/0âŠ¸âˆ¾) tÃ—l        # Numbers
  irâ†(us/ËœÂ«âŠ¸<i)(âŠ¢+âˆ§âŸœ(2âŠ¸=))0âŠ¸â‰¤âŠ¸/wk           # Identifier role
  idâ†(1-Ëœ(i>us)Ã—+`w>n)âŠ”t                    # Identifiers

  # Deduplicate literals and identifiers; other cleanup
  kiâ†((â‹âŠâŸœn)âŠ¸âŠ/w)âˆ¾(ciâˆ¾/si)âŠ+`Â»f             # Indices in t
  kâ†idâ€¿numâ€¿chrâ€¿strâ‹„k(âŠ¢>Â¯1Â»âŒˆ`)âŠ¸/Â¨Ëœâ†©jâ†âŠÂ¨k     # IDs j into uniques k
  wfâ†Â¬lâˆ¨t M bWâ‹„ie/Ëœâ†©wfâˆ¨>âŸœÂ«l                 # Index management for...
  tâ†©(wâˆ¨wf)Fs(âˆ¾j++`viÂ»â‰ Â¨k)âŒ¾(kiâŠ¸âŠ)t           # Add IDs; remove words/whitespace
  t-â†©t(MÃ—-âŸœâŠ‘)bS                             # Separators are equivalent
  pâ†â‰ `1Â¨sbâ†Â¯1â†“1â†“/1(âˆ¾â‰ âˆ¾Ëœ)t=sep               # Separator group boundaries (excludes leading and trailing)
  skâ†sb/Ëœp>âˆ¨âŸœÂ«(p+(sb-p)âŠt)âˆŠ3â€¿5+âŠ‘bB          # Keep the first of each group that's not just inside a bracket
  t{ie/Ëœâ†©ğ•¨â‹„ğ•¨Fsğ•©}Ëœâ†©1Â¨âŒ¾(skâŠ¸âŠ)tâ‰ sep            # Remove the rest
  râ†irâŒ¾((t M viâˆ¾â‰ âŠ‘k)âŠ¸/)(viâŒŠt)âŠcharRoleâˆ¾0    # Role
  t+â†©5Ã—t MâŸ¨âŠ‘bI,5âŸ©                           # Case-insensitive special names
  âŸ¨t,r,k,is,ieâŸ©
}

# ğ•© is a list of tokens that contains the numeric literals, each
# preceded by 0. Return the numbers.
ReadNumsâ†{
  indâ†ğ•¨ â‹„ _err_â†{(0!Ëœ/âŸœğ”¾âŸœindâ‰â—‹<ğ”½)âŸ(âˆ¨Â´âˆ˜âŠ¢)}
  ECharsâ†âŸ¨"Letter"âŠ¸Pl," """,âŠâŸœcharSet,""" not allowed in numbers"âŸ©_tmpl
  eâ€¿pâ€¿iâ€¿nâ€¿dâ†=âŸœğ•©Â¨((âŠ‘bA)+-Â´"ea")âˆ¾+âŸœâ†•Â´bN       # Masks for eÏ€âˆÂ¯.
  ECharsâˆ˜(/âŸœğ•©)_err_âŠ¢ Â¬eâˆ¨ğ•©<âŠ‘bA
  sâ†dâˆ¨câ†eâˆ¨zâ†0=ğ•©â‹„mâ†Â¬nâˆ¨c
  "Negative sign in the middle of a number"_err_âŠ¢ n>Â»c
  "Portion of a number is empty"_err_âŠ¢ (1Â«s)âˆ§nâˆ¨s
  "Ill-formed decimal or exponent use"_err_(sâŠ¸/) Â¬(0âŠ¸=âˆ¨Â»âŠ¸<)s/ğ•©
  "Ï€ and âˆ must occur alone"_err_âŠ¢ (pâˆ¨i)>1(Â»âˆ§(pâˆ§Â«e)âˆ¨Â«)zâˆ¨n
  fâ†(17â‰¥Â¬(âŠ¢-T)+`)âŠ¸âˆ§(Â«â‰¤(d<ğ•©â‰ âŠ‘bD)>â—‹I1TÂ¬)âŠ¸âˆ§m   # No leading 0s; max 17 digits
  lâ†(Â¯1âˆ¾Ï€â€¿1âˆ¾Ëœâ†•10)âŠËœ(Â¬d)/fÃ—ğ•©-1-ËœâŠ‘bD          # Digit lookup, with âˆ as 1 to avoid âˆÃ—0
  vâ†(>âŸœÂ«0â‰¤l)/(0âŠ¸â‰¤Ã—Ã—âŸœ10âŠ¸+)`Â»Â«l               # Numeric valuesâ€”mantissas and exponents
  vÃ—â†©1â€¿Â¯1âŠËœ(râ†>âŸœÂ»m)/Â»n                      # Negate if Â¯
  vmâ†c/z                                    # Mask of mantissas in l
  dpâ†vm/(Â»âŠ¸<Ã—-)âŸœ(âŠâŸœ(I1T dâˆ¾0))1+/>âŸœÂ«f        # Decimal position
  tâ†10â‹†|eeâ†dp-Ëœvm/Â«vÃ—Â¬vm                    # Power of 10
  tÃ·ËœâŒ¾((0>ee)âŠ¸/)tÃ—âŒ¾((0<ee)âŠ¸/)vm/vÃ—(r/i)âŠ1â€¿âˆ # Correct âˆ then Ã—10â‹†ee
}


Parse â† {râ€¿vnâ€¿indâ†ğ•¨â‹„nvâ†â‰ vn
  ErrMismatchedBracketsâ†{
    Lcs â† Â¯1 âŠ‘ 0Ë˜âˆ˜âŠ¢ {ğ•©âŒˆâŒˆ`ğ•¨+Â«ğ•©}Ë =âŒœ
    _mis_ â† {"Missing "âˆ¾ğ•—âˆ¾" "âˆ¾charSetâŠËœğ•˜+âŠ¢/Ëœâ‰ âˆ˜âŠ£=âŠ’}
    Msg â† >â—‹â‰ â—¶âŸ¨"opening"_mis_ 0, "closing"_mis_ 1ËœâŸ©
    0 !Ëœ ğ•¨ (Lcs<âŒŠâ—‹â‰ )â—¶âŸ¨Msg,"Malformed bracket nesting"âŸ© ğ•©
  }
  ErrUndeclaredâ†{
    0 !Ëœ "Undefined identifier"Plğ•©
  }

  gâ†â‹pdâ†+`pâ†(Â¯1-2Ã—r)Ã—ğ•© M bBâ‹„gpâ†gâŠpâ‹„gbâ†gâŠr=Â¯1â‹„gxâ†gâŠğ•©
  gp(>âŸœ0âŠ¸/ErrMismatchedBracketsâŸâ‰¢1-Ëœ<âŸœ0âŠ¸/)gx
  _err_â†{(0!Ëœ/âŸœğ”¾âŸœindâ‰â—‹<ğ”½)âŸ(âˆ¨Â´âˆ˜âŠ¢)}
  "Swapped open and closed brackets" ! 0â‰¤(âŠ‘g)âŠ‘pd
  "Parentheses can't contain separators"_err_(gb/gâŠ¸âŠ) ((âŠ‘bB)âŠ¸=Â»âŠ¸âˆ§sepâŠ¸=)gb/gx
  {"Empty statement or expression"_err_(ğ•©/0âˆ¾gâŠ¸âŠ) (4+âŠ‘bB)â‰ ğ•©/0âˆ¾gx}1âŠ¸Â«âŠ¸âˆ§1âˆ¾gb
  r-â†©(ğ•©=âŠ‘bG)>ecâ†Â«0â‰¤r+p
  "Invalid assignment or stranding use"_err_âŠ¢ ((Â¯4âŠ¸<âˆ§â‰¤âŸœÂ¯2)r)>ecâˆ§Â»0â‰¤r
  srâ†Â»âŒ¾(gâŠ¸âŠ)slâ†Â«âŠ¸âˆ¨r=Â¯2â‹„cpâ†ğ•©=1+âŠ‘bB
  gâŠËœâ†©â‹gâŠsl
  revâ†â‹+`Â¯1â†“(Â¯1âˆ¾g)(âŠ£â‹âŠ¸âŠâŠËœâŸœâ‹Â¬âŠËœ)â‹+`âŠ¸+1âˆ¾gâŠslâˆ¨r=Â¯1

  gfâ†â‹fdâ†+`revâŠbrâ†pÃ—ğ•©MâŸ¨2+âŠ‘bB,2âŸ©
  revâŠËœâ†©gfâ‹„fdâŠËœâ†©gf
  ğ•©âŠËœâ†©revâ‹„indâŠËœâ†©revâ‹„bvâ†revâŠbrâ‹„bâ†/bv<0â‹„fiâ†+`câ†bv>0

  Hâ†Â¬1(âˆ¾/âˆ¾Ëœ)c(âˆ¨/âŠ£)=
  snâ†(0â€¿3â€¿4â€¿5+5+âŠ‘bI)â‹ğ•©â‹„fxâ†1 H snâ‹„frâ†(fxâˆ¨0âŠ¸<)âŠ¸+ftâ†(2âŠ¸HâŒˆ2Ã—3âŠ¸H)sn
  {âŸ¨ind/Ëœ(0=fi)âˆ§ğ•© M bI,"Special name outside of any block"âŸ©!0}âŸ(0<âŠ‘fr) ğ•©
  nfâ†(âŠ‘bG)Hğ•©
  {âŸ¨ind/Ëœ(fiâŠ0â‰ fr)âˆ§ğ•©=âŠ‘bG,"Can't export from a non-immediate block"âŸ©!0}âŸ(âˆ¨Â´nf>fr=0) ğ•©
  fscâ†(ftâŠ0â€¿2â€¿3)+3Ã—fx
  ptâ†cpâˆ§nsâ†Â¬slâˆ¨sr
  râ†©sl-ËœnsÃ—(1â†“fr)âŒ¾((bâŠrev)âŠ¸âŠ)r
  ppâ†ptâˆ§Â»noâ†1âŠ¸Â»âŒ¾(gâŠ¸âŠ)r<0
  irâ†((Â»âŒ¾(gâŠ¸âŠ)(1+no)Ã—3=âŠ¢)âŒˆâŠ¢-no<2â‰¤âŠ¢)r+ppÃ—(ITÂ¬pp)âŠr
  irâŒˆâ†©(ITÂ¬ptâˆ§ir=0)((âŠ-âŠ¢)âŸœ(+`Â¬pp)(âŠ¢âŒŠ1âŒˆ+)âŠ)ir
  r+â†©ptÃ—Â»ir

  idxâ†ğ•©âŠËœidâ†/idmâ†(0âŠ¸â‰¤âˆ§<âŸœnv)xvâ†ğ•©-viâ‹„spâ†/ğ•© M bI

  gâ†©â‹+`revâŠp-brâ‹„grâ†gâŠrevâ‹„sllâ†1+2Ã·Ëœ0(<-â—‹/>)grâŠsr-slâ‹„lâ†/gâŠğ•©=5+âŠ‘bB
  gâŠËœâ†©gsâ†â‹grâŠslâ‹„grâ†©gâŠrevâ‹„giâ†â‹g
  ğ•©âŠËœâ†©gâ‹„râŠËœâ†©grâ‹„irâŠËœâ†©grâ‹„lâ†©(lâŠâ‹gs)âˆ¾/grâŠsr>sl
  niâ†1+(1â†“nf)/bkâ†bâŠgi
  "Modules must be immediately assigned"_err_(niâŠgâŠ¸âŠ)âˆ˜(âˆ¨ËÂ¯3â€¿0â€¿Â¯1â‰ râˆ¾âŸœÂ¯1â€¿1âŠ¸(âŠËœ)(â†•3)+âŒœâŠ¢)âŸ(0<â‰ )ni
  "Modules must be destructured"_err_(niâŠgâŠ¸âŠ) (âŠâŸœidm>âŠâŸœrevâŠsrË™)(ni+1)âŠg
  aâ†râ‰¤Â¯3â‹„psâ†a<r<0â‹„trâ†1â‰¤erâ†irâŠËœITÂ»ps
  oaâ†âŒ½/opâ†(er<2)âˆ§râ‰¥2â‹„roâ†opâˆ¨Â«opâˆ§r=3
  maâ†tr<(ğ•©=2+âŠ‘bG)âˆ§Â«irâ‰¥1
  osâ†â†•âˆ˜â‰ âŠ¸(âŠ£-T)âŒ¾âŒ½Â¬roâˆ¨maâ‹„atâ†1+âŠâŸœosâŠ¸+aiâ†/aâ‹„afâ†Â¯4â‰ aiâŠr
  "Role of the two sides in assignment must match"_err_(atâŠgâŠ¸âŠ) (atâŠer)â‰ arâ†atâŠr
  "Function or modifier assignment to a non-name"_err_(atâŠgâŠ¸âŠ) Â¬(ar=0)âˆ¨(atâŠg)âŠidm
  aaâ†Ã—gâŠacâ†Â»+`giâŠÂ«âŠ¸-(1+af+(aiâˆŠni)+2Ã—(âŠ‘bG)-ËœaiâŠğ•©)âŒ¾(atâŠ¸âŠ)0Â¨ğ•©

  ipâ†idâŠacâ‹„dâ†ip M 2â€¿4â‹„zicâ†0Â¨icâ†id/Ëœicfâ†2(<âˆ§|)ip
  ilâ†icâŠ+`bv<0â‹„exâ†ilâŠ(/âˆ¾â‰ )c
  ixfâ†(((1=ip)+âŠâŸœ(Â¯1âˆ¾c/gf))âˆ¾(ilâˆ¾dâŠ¸/)âŠ((â‰ ğ•©)âˆ¾bâŠgf)Ëœ)idâŠfi
  dâˆ¾â†©zicâ‹„idxâˆ¾â†©icf/idx
  igâ†(â‹âŠâŸœ(ixxâ†âˆ¾âŸœ(dâŠ¸/)idx))âŠ¸âŠâ‹ixf
  "Multiple definitions" ! âˆ§Â´ixxâˆ¨â—‹(Â»âŠ¸â‰ ((â‰ d)âŠ¸â‰¤âŠ¸/ig)âŠ¸âŠ)ixf
  igâ†©<âŸœ(â‰ d)âŠ¸/(â‹+`âˆ˜âŠâŸœ(dâˆ¾-/Ëœd))âŠ¸âŠig
  dâŠËœâ†©igâ‹„idxâŠËœâ†©ig
  ErrUndeclaredâˆ˜/âŸœidxâŸ(âˆ¨Â´)d<Â»âŠ¸â‰ idx
  "Imports must have been exported" ! âˆ§Â´2>-âŸœÂ»(dâˆ¨Ã—)âŠ¸/igâŠ(ip M 1â€¿3)âˆ¾2Â¨ic
  uiâ†(IT d)âŠ¸âŠâŒ¾(igâŠ¸âŠ)idâˆ¾ex
  lcâ†(1Â«c)/dnâ†c(âŠ¢-T)+`idmâˆ§ac M 2â€¿4
  iiâ†(uiâŠ(fiâŠfsc)+dn-1)âˆ¾((spâŠfi)âŠ3Ã—fx)++âŸœ(0âŠ¸â‰¤)2+spâŠxv
  ibâ†âŸ¨21+0<ipâˆ¾zicâˆ¾spâŠac,(id-â—‹(âŠâŸœfd)idâ‰ âŠ¸â†‘ui)âˆ¾zicâˆ¾0Â¨sp,iiâŸ©
  edâ†/Â¯1âŠ¸Â»âŠ¸<ex
  idorâ†âˆ¾Â¯1âŒ½1â€¿3/âŸ¨3/idâˆ¾exâˆ¾sp,edâŠexâŸ©
  idbcâ†Â¯1âŒ½âŸ¨â¥Šâ‰>ib,3Â¨ed,exâ‰ âŠ¸(Â«-âŠ¢)ed,14Â¨edâŸ©

  taâ†trâˆ§2(>âˆ¨|)ps(âŠ¢-T)+`Â¬ro
  faâ†/(taâˆ¨roâˆ¨Â«âŠ¸âˆ¨ps<aa)<(r=1)âˆ¨Â»op
  dyâ†faâŠÂ«(ğ•©=âŠ‘bO)<(trâˆ§râ‰¥0)âˆ¨ro<r=0
  obâ†prâŠ/Â¯1(âŠ¢-Â»)uâ†â·âˆ§prâ†ğ•©âŠËœpiâ†/ğ•©<sep
  cnâ†piâˆ¾ltâ†/ğ•©â‰¥ciâ†vi+nvâ‹„obâˆ¾â†©(ci-Ëœâ‰ u)+ltâŠğ•©
  sâ†ğ•©=sepâ‹„foâ†ğ•©=2+âŠ‘bBâ‹„lsâ†sâˆ§fo<â—‹IT loâ†ğ•©=4+âŠ‘bB
  llâ†sllâˆ¾Ëœ(Â¬lo/1Â«ps)+-âŸœÂ»1â†“(loâˆ¾1)/+`lsâˆ¾0
  drâ†/ls<sâ‹„rtâ†/fo

  orâ†â‹oiâ†idorâˆ¾gâŠËœâˆ¾âŸ¨cn,cn,bk,bk,dr,2/l,af/at,oa+1âŒˆoaâŠos,(dyÃ—âŠâŸœos)âŠ¸+fa+dy,rtâŸ©
  bcâ†orâŠâˆ¾idbcâˆ¾âŸ¨0Â¨cn,ob,15Â¨bk,1+â†•â‰ bk,14Â¨dr,â¥Šâ‰(3+lâŠaa)â‰ll
               11âŒˆ(11-1+âŠ‘bG)+(af/ai)âŠma+ğ•©,5+oaâŠr,(âŠ¢+9Ã—10âŠ¸=)16+dy-7Ã—faâŠer,25Â¨rtâŸ©
  bclâ€¿elâ€¿olâ†LEB bcâˆ¾25
  âŸ¨bcl,u,âŸ¨ft,Â¬fx,el/Ëœ1âˆ¾orâ‰¥bc-â—‹â‰ rt,lc+fscâŸ©, ol/(Â¯1âˆ¾ËœorâŠoi)âŠÂ¯1(âŠ¢âˆ¾âŠ)indâŸ©
}

LEBâ†{
  bâ†128
  sâ†+`Â»iâ†1+lâ†âŒŠbâ‹†â¼1âŒˆğ•©
  oâ†â‹â‹â†•âˆ˜â‰ âŠ¸-i/s
  vâ†oâŠl{fâ†Ã—ğ•¨â‹„(ğ•¨-1)(bâŠ¸(Ã—âŸœf+|)âˆ¾ğ•ŠâŸœ(âŒŠÃ·âŸœb)â—‹(fâŠ¸/))âŸ(âˆ¨Â´f)ğ•©}ğ•©
  vâ€¿sâ€¿i
}

Compileâ†{
  âŸ¨tok,role,val,inds,indeâŸ©â†txâ†Tokenize ğ•©
  âŸ¨bc,prim,blk,indbâŸ©â†âŸ¨role,âŠ‘val,indsâŸ© Parse tok
  âŸ¨bc, âˆ¾âŸ¨primâŠğ•¨âŸ©âˆ¾1â†“val, <Ë˜â‰>blk, indb, txâŸ©
}
