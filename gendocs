#! /usr/bin/env bqn

# Generate HTML files from markdown ones
# •args gives a list of files if present; otherwise convert everything
files ← { 0<≠•args ? •args ;
  # All markdown files in directories corresponding to ones in docs/
  At‿List‿Type ← •file
  SubDirs ← { 𝕩 <⊸∾ ∾ 𝕊¨ ('d'=Type¨)⊸/ 𝕩⊸At¨ List 𝕩 }
  ∾ (<At¨·(".md"≡¯3⊸↑)¨⊸/List)¨ (≠↓¨SubDirs) At "docs/"
}
files •Import "md.bqn"
