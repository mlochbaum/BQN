filesâ€¿opts â† 2 â†‘ ('-'=âŠ‘)Â¨âŠ¸âŠ” â€¢args
files â†© (0<â‰ )â—¶âŸ¨1,âˆ¨Â´"all"âŠ¸â‰¡Â¨âŸ©â—¶âŸ¨âˆ¾âŸœ".bqn"Â¨, â€¢file.Listâˆ˜"cases"âŸ© files
âŸ¨noerrâŸ© â† âŸ¨"-noerr"âŸ© âˆŠ opts

Native â† Exec â† â€¢BQN

c â† âˆ¾ ((0<â‰ )â—¶0â€¿('#'â‰ âŠ‘)Â¨âŠ¸/ Â· â€¢FLines "cases/"âŠ¸âˆ¾)Â¨ files
c â†© ('!'â‰ âŠ‘)Â¨âŠ¸/âŸnoerr c
Trim â† ((âˆ¨`âˆ§âˆ¨`âŒ¾âŒ½)' 'âŠ¸â‰ )âŠ¸/
M â† {eâ€¿bâ†ğ•©
  Msg â† {âˆ¾âŸ¨
    """",b,""": expected "
    "to fail"âŸ("!"âŠ¸â‰¡)e
    " but "
    0âŠ¸â‰¡â—¶âŸ¨"received "âˆ¾Â·â€¢ReprâŠ‘,"evaluation failed"âŸ©ğ•©
    â¥Š@+10
  âŸ©}
  ("!"âŠ¸â‰¡â—¶âŸ¨<Native,0Ë™âŸ© e) â‰¢â—¶""â€¿Msg <âˆ˜ExecâŠ0 b
}
r â† (M '%'âŠ¸= (âˆ¨Â´âŠ£)â—¶âŸ¨"1"â‰â—‹<âŠ¢, TrimÂ¨(+`-2âŠ¸Ã—)âŠ¸âŠ”âŸ© âŠ¢)Â¨ c
â€¢Out ("All "âˆ¾(â€¢Reprâ‰ c)âˆ¾" passed!")âŸ(0=â‰ ) Â¯1â†“âˆ¾r
